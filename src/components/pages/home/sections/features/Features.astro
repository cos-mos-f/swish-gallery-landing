---
const { content } = Astro.props;
const { features } = content;
---

<section id="features" class="py-20">
  <div class="mx-auto max-w-6xl px-4">
    <div>
      <h2 class="font-display text-4xl text-ink md:text-6xl">
        {features.title}
      </h2>
    </div>
    <div class="my-20 space-y-32">
      {
        features.items.map(
          (
            item: { mediaLabel: string; mediaSrc: string; title: string; bullets: string[] },
            index: number
          ) => (
            <div
              class={`
                feature-row flex flex-col gap-6 md:gap-12
                md:flex-row ${index % 2 === 1 ? "md:flex-row-reverse" : ""}
                `}
            >
              <div class="w-full md:w-1/2">
                <div class="h-full min-h-0 md:min-h-70 overflow-hidden rounded-lg bg-black/90 shadow-lg shadow-white/10">
                  <video
                    class="h-full w-full object-cover"
                    aria-label={item.mediaLabel}
                    autoplay
                    muted
                    loop
                    playsinline
                    preload="metadata"
                  >
                    <source src={item.mediaSrc} type="video/mp4" />
                  </video>
                </div>
              </div>
              <div class="w-full md:w-1/2 gap-4 flex flex-col">
                <h3 class="font-display text-2xl md:text-4xl font-light">{item.title}</h3>
                <ul class="mt-4 space-y-2 text-lg ">
                  {item.bullets.map((bullet) => (
                    <li class="flex gap-3 items-start">
                      <span class="mt-2 h-3 w-3 rounded-full border border-black/40" />
                      <span>{bullet}</span>
                    </li>
                  ))}
                </ul>
              </div>
            </div>
          )
        )
      }
    </div>
  </div>
</section>
