---
const { content } = Astro.props;
const { header } = content;
const { languageSwitch } = header;
---

<header
  id="header"
  class="site-header fixed top-0 w-full z-50 transition-all duration-300
  bg-linear-to-b from-black/40 via-black/10 to-transparent text-white h-28"
  role="banner"
>
  <div class="mx-auto flex h-16 max-w-6xl items-center justify-between px-4">
    <a href={header.homeUrl} class="flex items-center gap-3">
      <img src="/assets/icons/logo.svg" alt={header.logoAlt} class="h-10 w-10 select-none" />
      <span class="font-display text-sm uppercase tracking-[0.35em] text-ink">
        {header.brand}
      </span>
    </a>
    <nav
      aria-label={header.navAriaLabel}
      class="hidden md:flex flex-wrap items-center gap-4 text-sm"
    >
      <div class="flex flex-wrap items-center gap-3">
        {
          header.navItems.map((item: { href: string; label: string; id: string }) => (
            <a
              href={item.href}
              data-ga-event={item.id === "download" ? "download_click" : undefined}
              data-ga-location={item.id === "download" ? "header" : undefined}
              class="
              nav-link rounded-full border border-ink-20 
              px-3 py-1 text-xs uppercase tracking-[0.25em] font-normal
              text-ink-80 transition hover:outline-1 hover:font-semibold"
            >
              {item.label}
            </a>
          ))
        }
      </div>
      <a
        href={languageSwitch.otherUrl}
        class="text-xs hover:text-ink uppercase font-extralight tracking-widest"
        aria-label={`${header.languageLabel}: ${languageSwitch.other}`}
      >
        {languageSwitch.other}
      </a>
    </nav>
    <details class="relative md:hidden">
      <summary
        class="list-none inline-flex items-center justify-center rounded-full
        px-4 py-2 text-[10px] uppercase tracking-[0.35em] text-ink-80"
        aria-label={`${header.navAriaLabel} menu`}
      >
        Menu
      </summary>
      <div
        class="absolute right-0 mt-3 w-56 rounded-2xl border border-ink-10 bg-gray-800/80 p-4 text-white
        shadow-[0_20px_60px_-30px_rgba(0,0,0,0.6)] backdrop-blur"
      >
        <div class="flex flex-col gap-2">
          {
          header.navItems.map((item: { href: string; label: string; id: string }) => (
              <a
                href={item.href}
                data-ga-event={item.id === "download" ? "download_click" : undefined}
                data-ga-location={item.id === "download" ? "header" : undefined}
                class="rounded-full border border-ink-20 px-3 py-2 text-[10px] uppercase tracking-[0.25em]
                text-ink-80 transition hover:outline-1 hover:font-semibold"
              >
                {item.label}
              </a>
            ))
          }
        </div>
        <div class="mt-3 border-t border-ink-10 pt-3">
          <a
            href={languageSwitch.otherUrl}
            class="text-[10px] hover:text-ink uppercase font-extralight tracking-widest"
            aria-label={`${header.languageLabel}: ${languageSwitch.other}`}
          >
            {languageSwitch.other}
          </a>
        </div>
      </div>
    </details>
  </div>
</header>
